Web Morpher
=
**version: 0.0.0.pre-alpha**

-

#Запуск

**Параметры запуска**

    node_modules:<массив путей для поиска подключаемых модулей>
    path:<путь к корню сайта>
    port:<номер порта, по умолчанию `3000`>
    typeSite:<тип сайта. Смотри "Типы сайтов">

**Задание параметров**

    Скрипт запуска поддерживает: node app --path:<путь> --port:<номер порта>
    Файла `app.js` поддерживает: wmConstructor({path:'<путь>', port:'<номер порта>'})
    Конфиг сайта поддерживает: {"node_modules":<пути>,"port":<номер порта>,"typeSite":<тип сайта>}
    Глобальный конфиг поддерживает: {"node_modules":<пути>}

**Наследование параметров**

Параметры с меньшим приоритетом заменяются или дополняются параметрами с большим.

    path - заменяется
    port - заменяется
    node_modules - расширяется

Параметры по убыванию приоритета:

    Из скрипта запуска `restart.bat`
    Из файла `app.js`
    Из конфига сайта `demo/web-morpher/config.json`
    Из глобального конфига `web-morpher/config.json`
    По умолчанию из `web-morpher/index.js`

Задание параметров из скрипта запуска используется если в js файле запуска `app.js` указан 1 сайт,
т. е. необходимо запускать один сайт с разными параметрами.
Задание параметров в `app.js` применяется, если необходимо запускать несколько сайтов в одном процессе.

**Примеры**

    node app
    node app --port:9000
    node app --path:/docs/ --port:9000
    node app --path:docs --port:9000

**Windows**

    restart.bat

#Типы сайтов

`0` - Статика без каталога `web-morpher` в корне сайта, хранящего данные для работы системы.
Тип выставится автоматически если данный каталог отсутствует в корне сайта.
Вся папка сайта раздается как статика.

`1` - Статика с каталогом `web-morpher` в корне сайта,
в нем хранятся настройки сайта для системы, и исходники сайта для его генерации при помощи данной системы.
Вся папка сайта раздается как статика, кроме `yourdomain/web-morpher/*`,
данная ссылка всегда отдает информацию о системе, и не дает получать данные из этого каталога через веб-интерфейс.
Является типом по умолчанию, если не задан в настройках сайта.

`2` - Смешанный тип. Каталог раздается как статика, кроме `yourdomain/web-morpher/*`.
По данной ссылке осуществляется обмен динамическими данными.
Данный тип позволяет работать как со статическим содержимым, так и с логикой системы,
осуществляя запрос к методам при помощи JSON.

`3` - Динамический тип. Все данные и файлы формируются динамически, есть возможность кеширования html/css/js файлов.
В таком случае эти файлы храниться в корне, вне папки `web-morpher`.
При обращении к таким файлам, если время их жизни не истекло то они отдаются из кеша.

#Зависимости

  - `demo/ext/jquery.js` >= 1.8.3 ([jquery.com](http://jquery.com/))
  - `docs/ext/jquery.js` >= 1.8.3 ([jquery.com](http://jquery.com/))
  - `docs/ext/bootstrap/` >= 2.2.2 ([twitter bootstrap](http://twitter.github.com/bootstrap/))

#Заметки
  - Попробовать ([AngularJS](http://angularjs.org/))

-

Copyright 2013 Dr@KoN
